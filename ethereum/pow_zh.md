# POW（工作量证明共识算法）
Pow工作量证明共识算法[Ethash](https://github.com/ethereum/wiki/wiki/Ethash)


# 算法工作流程
1.存在一个seed，该seed可以由每个块通过扫描所有块的头部计算出来
2.通过该seed，可以计算出16MB的伪随机缓存；轻客户端存储着该缓存
3.通过该缓存，我们可以生成1GB的的数据集，数据集中的每项仅依赖于缓存
中的一小部分items，全节点和矿工存储该数据集，该数据集随时间增长。
4.挖矿就是获取该数据集的随机slices，并对其进行哈希运算。在花费很少
内存的情况下，可以通过上面提到的cache重新生成该数据集中你所需要的特殊的部分
，所以你只需要存储cache就可以了。

数据集每30000块更新一次，所以矿工的主要工作是读数据集而不是写它。

# 参数
ethash缓存和数据集的参数依赖与block number，缓存和数据集的大小呈线性增长。
但是，为了减少因偶然事故造成的重复/循环行为，我们一般采用低于线性增长阀值的最大素数。

# 全数据集的计算
实际上，我们从缓存中伪随机选取256个node，对其进行hash计算，用来计算出数据集的节点

# 主循环
当前，为了生成特殊的header和nonce，我们从所有的数据集中获取数据。

如果该算法的返回值小于期望的值的话，那么这个nonce就是合法的。
